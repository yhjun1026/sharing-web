webpackJsonp([15],{489:function(t,e,a){a(735);var o=a(62)(a(605),a(767),null,null);t.exports=o.exports},605:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{options:[{value:"选项1",label:"黄金糕"},{value:"选项2",label:"双皮奶"},{value:"选项3",label:"蚵仔煎"},{value:"选项4",label:"龙须面"},{value:"选项5",label:"北京烤鸭"}],img:["https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=2719949837,244093837&fm=27&gp=0.jpg","https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=2719949837,244093837&fm=27&gp=0.jpg","https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=2719949837,244093837&fm=27&gp=0.jpg"],value:"",searchForm:{square:"",name:"",code:"",orgCode:"",pageIndex:0,pageSize:10,exchangeMode:"",minPoint:"",maxPoint:"",minTime:"",maxTime:""},tableData:[{date:"2016-05-02",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄"}],form:{borrowDealer:"",borrowId:""},payform:{borrowId:"",compensateGoods:[{amt:0,goodsUuid:""}]},backform:{borrowDealer:"",borrowId:""},formLabelWidth:"70px",dialogFormVisible:!1,dialogbackVisible:!1,dialogPayVisible:!1,detail:{},custom:{},goodsDtl:{},borrowPayInfo:[],compensatePayInfo:{}}},methods:{dealData:function(t){var e=void 0;switch(t){case"new":e="新增";break;case"using":e="已领取";break;case"backed":e="已归还";break;case"compensated":e="已赔偿"}return e},getList:function(t){var e=this;this.$axios({url:"/v1/borrow/get/"+t,method:"GET"}).then(function(t){var a=t.data,o=a.data,s=a.status;console.log(o),0==s&&(e.detail=o,e.custom=o.custom,e.goodsDtl=o.goodsDtl[0],e.borrowPayInfo=[o.borrowPayInfo],e.compensatePayInfo=o.compensatePayInfo,console.log(o))}).catch(function(t){e.$message({message:"获取借用明细失败",type:"error"})})},gotoCollar:function(t){this.form={borrowDealer:"",borrowId:""},this.dialogFormVisible=!0,this.form.borrowId=this.detail.uuid},collar:function(){var t=this;this.$axios({url:"/v1/borrow/collar",method:"POST",data:this.form}).then(function(e){var a=e.data,o=a.data,s=a.status,r=a.message;console.log(o),0==s?(t.dialogFormVisible=!1,t.getList(t.$route.query.id)):t.$message({message:r,type:"error"})}).catch(function(e){t.searching=!1,t.$message({message:"领用失败",type:"error"})})},gotoBack:function(t){this.backform={backDealer:"",borrowId:"",payInfoParam:{oriOutTradeNo:"",oriTradeNo:"",outTradeNo:"",payAmt:0,payId:"",payTime:"",payType:0,payUser:"",tradeNo:"",transType:0}},this.dialogbackVisible=!0,this.backform.borrowId=this.detail.uuid},toBack:function(){var t=this;this.$axios({url:"/v1/borrow/back",method:"POST",data:this.backform}).then(function(e){var a=e.data,o=a.data,s=a.status,r=a.message;console.log(o),0==s?(t.dialogbackVisible=!1,t.getList(t.$route.query.id)):t.$message({message:r,type:"error"})}).catch(function(e){t.searching=!1,t.$message({message:"领用失败",type:"error"})})},gotoBackMoney:function(){},precompensate:function(){this.payform={borrowId:this.detail.uuid,compensateGoods:[{amt:0,goodsUuid:this.goodsDtl.goodsUuid}]},this.dialogPayVisible=!0},gotoPrecompensate:function(){var t=this;this.$axios({url:"/v1/borrow/precompensate",method:"POST",data:this.payform}).then(function(e){var a=e.data,o=(a.data,a.status),s=a.message;0==o?(t.dialogPayVisible=!1,t.getList(t.$route.query.id)):t.$message({message:s,type:"error"})}).catch(function(e){t.searching=!1,t.$message({message:"发起赔偿失败",type:"error"})})}},mounted:function(){console.log(this.$route),this.getList(this.$route.query.id)}}},636:function(t,e,a){e=t.exports=a(486)(),e.push([t.i,".borrow-msg{padding:15px 30px}.borrow-msg .el-col-12{margin:15px 0}.el-carousel__item h3{color:#475669;font-size:14px;line-height:200px;margin:0;text-align:center;img{width:320px;height:320px}}.el-carousel__item:nth-child(2n){background-color:#99a9bf}.el-carousel__item:nth-child(odd){background-color:#d3dce6}",""])},735:function(t,e,a){var o=a(636);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);a(487)("b8dde4ee",o,!0)},767:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:""}},[a("el-breadcrumb-item",{attrs:{normal:""}},[t._v("借用单")]),t._v(" "),a("el-breadcrumb-item",[t._v("借用明细")])],1)],1),t._v(" "),a("div",{staticClass:"content-wrap"},[a("el-row",{staticStyle:{"margin-bottom":"15px"}},[a("el-col",{attrs:{span:12}},[a("h4",{staticClass:"new-member-h3"},[t._v("单据编号："+t._s(t.detail.billNumber))])]),t._v(" "),a("el-col",{staticStyle:{"text-align":"right"},attrs:{span:10}},[a("h4",{staticClass:"new-member-h3"},[t._v("状态："+t._s(t.dealData(t.detail.stat)))])])],1),t._v(" "),a("div",[a("el-row",{attrs:{type:"flex",justify:"space-between",align:"middle"}},[a("h3",{staticClass:"new-member-h3"},[t._v("支付信息")])]),t._v(" "),a("el-table",{staticStyle:{width:"100%","margin-top":"15px"},attrs:{data:t.borrowPayInfo,stripe:""}},[a("el-table-column",{attrs:{prop:"payUser",label:"名称",align:"center","header-align":"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"payTime",label:"时间",align:"center","header-align":"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"payAmt",label:"金额",align:"center","header-align":"center"}})],1)],1),t._v(" "),a("div",{staticStyle:{"margin-top":"15px"}},[a("el-row",{attrs:{type:"flex",justify:"space-between",align:"middle"}},[a("h3",{staticClass:"new-member-h3"},[t._v("借用信息")])]),t._v(" "),a("el-row",{staticStyle:{"margin-top":"15px"}},[a("el-col",{attrs:{span:6,align:"center"}},[a("el-carousel",{staticStyle:{"margin-top":"50px"},attrs:{interval:4e3,type:"card",height:"120px"}},t._l(t.img,function(t){return a("el-carousel-item",{key:t},[a("h3",[a("img",{staticStyle:{width:"100%",height:"100%"},attrs:{src:t}})])])}))],1),t._v(" "),a("el-col",{staticClass:"borrow-msg",attrs:{span:18}},[a("el-col",{attrs:{span:12}},[t._v("\n            物品名称："+t._s(t.goodsDtl.goodsName)+"\n          ")]),t._v(" "),a("el-col",{attrs:{span:12}},[t._v("\n            赔偿金额："+t._s(t.goodsDtl.compensateAmt)+"                \n            "),"backed"!=t.detail.stat&&0==parseFloat(t.goodsDtl.compensateAmt)?a("el-button",{staticStyle:{padding:"0"},attrs:{type:"text"},on:{click:function(e){t.precompensate()}}},[t._v("\n              修改\n            ")]):t._e()],1),t._v(" "),a("el-col",{attrs:{span:12}},[t._v("\n            租用时间："+t._s(t.detail.borrowDealTime)+"\n          ")]),t._v(" "),a("el-col",{attrs:{span:12}},[t._v("\n            押金："+t._s(t.goodsDtl.depositAmt)+"\n          ")]),t._v(" "),a("el-col",{attrs:{span:12}},[t._v("\n            到期时间："+t._s(t.detail.planBackTime)+"\n          ")]),t._v(" "),a("el-col",{attrs:{span:12}},[t._v("\n            租用人："+t._s(t.custom.nick)+"\n          ")]),t._v(" "),a("el-col",{attrs:{span:12}},[t._v("\n             \n          ")]),t._v(" "),a("el-col",{attrs:{span:12}},[t._v("\n            手机号："+t._s(t.custom.mobile)+"\n          ")])],1)],1),t._v(" "),a("div",{staticStyle:{"text-align":"center"}},[a("qf-access",{attrs:{code:"btn_good_1_3"}},["using"!=t.detail.stat&&"backed"!=t.detail.stat?a("el-button",{staticClass:"member-list-btn",attrs:{type:"primary"},on:{click:function(t){}}},[t._v("退还押金\n          ")]):t._e()],1),t._v(" "),a("qf-access",{attrs:{code:"btn_good_1_3"}},["using"!=t.detail.stat&&"backed"!=t.detail.stat?a("el-button",{staticClass:"member-list-btn",attrs:{type:"primary"},on:{click:function(e){t.gotoCollar()}}},[t._v("领用\n          ")]):t._e()],1),t._v(" "),a("qf-access",{attrs:{code:"btn_good_1_3"}},["using"==t.detail.stat&&"backed"!=t.detail.stat?a("el-button",{staticClass:"member-list-btn",attrs:{type:"primary"},on:{click:function(e){t.gotoBack()}}},[t._v("归还\n          ")]):t._e()],1)],1)],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"赔偿金额",visible:t.dialogPayVisible,width:"400px"},on:{"update:visible":function(e){t.dialogPayVisible=e}}},[a("el-form",{attrs:{model:t.payform}},[a("el-form-item",{attrs:{label:"金额","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"85%"},attrs:{"auto-complete":"off"},model:{value:t.payform.compensateGoods[0].amt,callback:function(e){t.$set(t.payform.compensateGoods[0],"amt",e)},expression:"payform.compensateGoods[0].amt"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.gotoPrecompensate()}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"物品领用",visible:t.dialogFormVisible,width:"400px"},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"受理人","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"85%"},attrs:{"auto-complete":"off"},model:{value:t.form.borrowDealer,callback:function(e){t.$set(t.form,"borrowDealer",e)},expression:"form.borrowDealer"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.collar()}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"物品归还",visible:t.dialogbackVisible,width:"400px"},on:{"update:visible":function(e){t.dialogbackVisible=e}}},[a("el-form",{attrs:{model:t.backform}},[a("el-form-item",{attrs:{label:"受理人","label-width":t.formLabelWidth}},[a("el-input",{staticStyle:{width:"85%"},attrs:{"auto-complete":"off"},model:{value:t.backform.backDealer,callback:function(e){t.$set(t.backform,"backDealer",e)},expression:"backform.backDealer"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.toBack()}}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]}}});