webpackJsonp([12],{496:function(t,e,r){r(725);var s=r(62)(r(613),r(756),null,null);t.exports=s.exports},613:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{form:{newPassword:"",oldPassword:"",userCode:""},detail:{},rules:{newPassword:[{required:!0,message:"请输入新密码",trigger:"change,blur"}],oldPassword:[{required:!0,message:"请输入原密码",trigger:"change,blur"}]},dialogFormVisible:!1,formLabelWidth:"120"}},methods:{update:function(){this.$router.push({path:"/user/usernew",query:{id:this.detail.uuid}})},getDetail:function(t){var e=this;this.$axios({url:"/user/get/"+t,method:"GET"}).then(function(t){var r=t.data,s=r.data;0==r.status&&(e.detail=s)}).catch(function(t){e.$message({message:"获取用户明细失败",type:"error"})})},resetPassword:function(){this.form={newPassword:"",oldPassword:"",userCode:""},this.dialogFormVisible=!0},updatePassword:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;console.log(localStorage.getItem("userCode")),e.form.userCode=localStorage.getItem("userCode"),e.$axios({url:"/user/update/password",method:"POST",data:e.form}).then(function(t){var r=t.data;r.data;0==r.status&&(e.dialogFormVisible=!1)}).catch(function(t){e.$message({message:"修改密码失败",type:"error"})})})}},mounted:function(){this.getDetail(this.$route.query.id)}}},626:function(t,e,r){e=t.exports=r(486)(),e.push([t.i,".user-detail .el-form-item__error{left:76px}.user-detail .el-dialog__footer{padding:0}",""])},725:function(t,e,r){var s=r(626);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);r(487)("3d4149f8",s,!0)},756:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"user-detail"},[r("div",{staticClass:"crumbs"},[r("el-breadcrumb",{attrs:{separator:""}},[r("el-breadcrumb-item",{attrs:{normal:""}},[t._v("用户管理")]),t._v(" "),r("el-breadcrumb-item",[t._v("用户详情")])],1)],1),t._v(" "),r("div",{staticClass:"content-wrap"},[r("el-row",[r("el-col",{attrs:{span:18}},[r("el-form",{ref:"form",attrs:{model:t.form,"label-width":"80px"}},[r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"代码："}},[t._v("\n                "+t._s(t.detail.code)+"\n              ")])],1),t._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"类型："}},[t._v("\n                "+t._s("admin"===t.detail.type?"管理员":"营业员")+"\n              ")])],1)],1),t._v(" "),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"名称："}},[t._v("\n                "+t._s(t.detail.name)+"\n              ")])],1),t._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"密码："}},[t._v("\n                ******\n                "),r("qf-access",{attrs:{code:"btn_user_1_3"}},[r("el-button",{attrs:{type:"text"},on:{click:t.resetPassword}},[t._v(" 修改")])],1)],1)],1)],1),t._v(" "),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"手机号："}},[t._v("\n                "+t._s(t.detail.mobile)+"\n              ")])],1),t._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"状态："}},[t._v("\n                "+t._s(0==t.detail.stat?"停用":"启用")+"\n              ")])],1)],1),t._v(" "),r("el-form-item",{attrs:{label:"备注："}},[t._v("\n            "+t._s(t.detail.memo)+"\n          ")])],1)],1),t._v(" "),r("el-col",{attrs:{span:6}},[r("div",{staticStyle:{"margin-bottom":"15px"}},[r("qf-access",{attrs:{code:"btn_user_1_2"}},[r("el-button",{attrs:{type:"primary"},on:{click:function(e){t.update()}}},[t._v("修改")])],1)],1)])],1),t._v(" "),r("el-row",{staticClass:"user-view-row"},[r("el-col",{attrs:{span:24}},[r("div",{staticStyle:{"border-top":"1px solid #DFE6EC"}})])],1),t._v(" "),r("el-dialog",{attrs:{title:"密码修改",visible:t.dialogFormVisible,width:"400px"},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[r("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules}},[r("el-form-item",{attrs:{label:"原密码：","label-width":t.formLabelWidth,prop:"oldPassword"}},[r("el-input",{staticStyle:{width:"75%"},attrs:{"auto-complete":"off"},model:{value:t.form.oldPassword,callback:function(e){t.$set(t.form,"oldPassword",e)},expression:"form.oldPassword"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"新密码：","label-width":t.formLabelWidth,prop:"newPassword"}},[r("el-input",{staticStyle:{width:"75%"},attrs:{"auto-complete":"off"},model:{value:t.form.newPassword,callback:function(e){t.$set(t.form,"newPassword",e)},expression:"form.newPassword"}})],1)],1),t._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"primary"},on:{click:function(e){t.updatePassword("form")}}},[t._v("确 定")])],1)],1)],1)])},staticRenderFns:[]}}});