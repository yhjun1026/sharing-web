webpackJsonp([6],{490:function(e,t,a){var o=a(62)(a(606),a(773),null,null);e.exports=o.exports},527:function(e,t,a){e.exports={default:a(529),__esModule:!0}},529:function(e,t,a){a(533),e.exports=a(30).Object.assign},530:function(e,t,a){"use strict";var o=a(124),r=a(531),s=a(532),l=a(125),i=a(190),n=Object.assign;e.exports=!n||a(82)(function(){var e={},t={},a=Symbol(),o="abcdefghijklmnopqrst";return e[a]=7,o.split("").forEach(function(e){t[e]=e}),7!=n({},e)[a]||Object.keys(n({},t)).join("")!=o})?function(e,t){for(var a=l(e),n=arguments.length,c=1,m=r.f,d=s.f;n>c;)for(var u,b=i(arguments[c++]),p=m?o(b).concat(m(b)):o(b),f=p.length,h=0;f>h;)d.call(b,u=p[h++])&&(a[u]=b[u]);return a}:n},531:function(e,t){t.f=Object.getOwnPropertySymbols},532:function(e,t){t.f={}.propertyIsEnumerable},533:function(e,t,a){var o=a(47);o(o.S+o.F,"Object",{assign:a(530)})},606:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(527),r=a.n(o);t.default={data:function(){return{options:[{value:"0",label:"全部"},{value:"1",label:"租借"},{value:"2",label:"已领取"},{value:"3",label:"归还"},{value:"4",label:"赔偿"}],value:"",searchForm:{beginTime:"",borrowType:"0",endTime:"",goodsCode:"",goodsName:"",mobile:"",page:1,pageSize:10,storeId:"",dates:[]},tableData:[],totalCount:0,form:{borrowDealer:"",borrowId:""},backform:{borrowDealer:"",borrowId:""},formLabelWidth:"70px",dialogFormVisible:!1,dialogbackVisible:!1}},methods:{reseatData:function(){this.searchForm={beginTime:"",borrowType:"0",endTime:"",goodsCode:"",goodsName:"",mobile:"",page:1,pageSize:10,storeId:"",dates:[]}},checkList:function(){this.getList()},dealData:function(e,t){var a=void 0;if("goodsName"===t)a=e.goodsDtl[0].goodsName;else if("mobile"===t)a=e.custom.mobile;else if("depositAmt"===t)a=e.goodsDtl[0].depositAmt;else if("stat"===t)switch(e.stat){case"new":a="新增";break;case"using":a="已领取";break;case"backed":a="已归还";break;case"compensated":a="已赔偿"}return a},changeDate:function(e){e?(this.searchForm.beginTime=this.formatDate(e[0])+" 00:00:00",this.searchForm.endTime=this.formatDate(e[1])+" 23:59:59"):(this.searchForm.beginTime="",this.searchForm.endTime="")},formatDate:function(e){if(!e)return"";var t=new Date(e);return t.getFullYear()+"-"+("0"+(t.getMonth()+1)).substr(-2)+"-"+("0"+t.getDate()).substr(-2)},changePage:function(e){this.searchForm.page!==e&&(this.searchForm.page=e,this.getList())},changeSize:function(e){this.searchForm.pageSize=e,this.getList()},gotoMemberDetail:function(e){this.$router.push({path:"/borrow/borrowdetail",query:{id:e.uuid}})},getList:function(){var e=this,t=this,a={};r()(a,this.searchForm);for(var o in a)""===a[o]&&delete a[o];this.$axios({url:"/v1/borrow/query",method:"POST",data:a}).then(function(a){var o=a.data,r=o.data,s=o.status,l=o.message;console.log(r),0==s?(t.tableData=r.item,t.totalCount=r.totalCount):e.$message({message:l,type:"error"})}).catch(function(t){e.searching=!1,e.$message({message:"获取借用列表失败",type:"error"})})},gotoCollar:function(e){this.form={borrowDealer:"",borrowId:""},this.dialogFormVisible=!0,this.form.borrowId=e.uuid},collar:function(){var e=this;this.$axios({url:"/v1/borrow/collar",method:"POST",data:this.form}).then(function(t){var a=t.data,o=a.data,r=a.status,s=a.message;console.log(o),0==r?(e.dialogFormVisible=!1,e.getList()):e.$message({message:s,type:"error"})}).catch(function(t){e.searching=!1,e.$message({message:"领用失败",type:"error"})})},gotoBack:function(e){this.backform={backDealer:"",borrowId:"",payInfoParam:{oriOutTradeNo:"",oriTradeNo:"",outTradeNo:"",payAmt:0,payId:"",payTime:"",payType:0,payUser:"",tradeNo:"",transType:0}},this.dialogbackVisible=!0,this.backform.borrowId=e.uuid},toBack:function(){var e=this;this.$axios({url:"/v1/borrow/back",method:"POST",data:this.backform}).then(function(t){var a=t.data,o=a.data,r=a.status,s=a.message;console.log(o),0==r?(e.dialogbackVisible=!1,e.getList()):e.$message({message:s,type:"error"})}).catch(function(t){e.searching=!1,e.$message({message:"领用失败",type:"error"})})},gotoBackMoney:function(){}},mounted:function(){this.getList()}}},773:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"title",rawName:"v-title",value:"借用单",expression:"'借用单'"}]},[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:""}},[a("el-breadcrumb-item",[e._v("借用单")])],1)],1),e._v(" "),a("div",{staticClass:"content-wrap"},[a("div",{staticClass:"search-box"},[a("div",{staticClass:"searchBox"},[a("el-form",{ref:"searchForm",attrs:{inline:!0,data:e.searchForm,model:e.searchForm,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"物品编号:",prop:"code"}},[a("el-input",{staticStyle:{width:"220px"},attrs:{placeholder:"请输入物品编号"},model:{value:e.searchForm.goodsCode,callback:function(t){e.$set(e.searchForm,"goodsCode",t)},expression:"searchForm.goodsCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"物品名称:",prop:"name"}},[a("el-input",{staticStyle:{width:"220px"},attrs:{placeholder:"请输入物品名称"},model:{value:e.searchForm.goodsName,callback:function(t){e.$set(e.searchForm,"goodsName",t)},expression:"searchForm.goodsName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号码:",prop:"name"}},[a("el-input",{staticStyle:{width:"220px"},attrs:{placeholder:"请输入手机号码"},model:{value:e.searchForm.mobile,callback:function(t){e.$set(e.searchForm,"mobile",t)},expression:"searchForm.mobile"}})],1),e._v(" "),a("br"),e._v(" "),a("el-form-item",{attrs:{label:"借用时间:",prop:"date"}},[a("el-date-picker",{attrs:{type:"daterange",editable:!1,format:"yyyy-MM-dd",placeholder:"选择日期范围"},on:{change:e.changeDate},model:{value:e.searchForm.dates,callback:function(t){e.$set(e.searchForm,"dates",t)},expression:"searchForm.dates"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态:",prop:"name"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.searchForm.borrowType,callback:function(t){e.$set(e.searchForm,"borrowType",t)},expression:"searchForm.borrowType"}},e._l(e.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)],1),e._v(" "),a("div",{staticStyle:{"text-align":"center"}},[a("el-button",{staticClass:"member-list-btn",attrs:{type:"primary"},on:{click:function(t){e.checkList()}}},[e._v("查询")]),e._v(" "),a("el-button",{staticClass:"member-list-btn",attrs:{type:"danger",plain:!0},on:{click:function(t){e.reseatData()}}},[e._v("重置")])],1)],1)]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:""}},[a("el-table-column",{attrs:{prop:"billNumber",label:"借用编号","min-width":"180",align:"center","header-align":"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("qf-slotaccess",{attrs:{code:"btn_borrow_1_2"}},[a("a",{staticStyle:{color:"#20a0ff"},attrs:{slot:"has-right",href:"#"},on:{click:function(a){a.stopPropagation(),a.preventDefault(),e.gotoMemberDetail(t.row)}},slot:"has-right"},[e._v(e._s(t.row.billNumber))]),e._v(" "),a("span",{attrs:{slot:"no-right"},slot:"no-right"},[e._v("\n           "+e._s(t.row.billNumber)+"\n          ")])])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"goodsName",label:"物品","min-width":"180",align:"center","header-align":"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(e.dealData(t.row,"goodsName"))+"\n        ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"borrowDealer",label:"借用人","min-width":"80",align:"center","header-align":"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mobile",label:"手机号","min-width":"160",align:"center","header-align":"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(e.dealData(t.row,"mobile"))+"\n        ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"创建时间","min-width":"180",align:"center","header-align":"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"depositAmt",label:"支付金额","min-width":"120",align:"center","header-align":"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(e.dealData(t.row,"depositAmt"))+"\n        ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"planBackTime",label:"计划归还时间","min-width":"180",align:"center","header-align":"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"realBackTime",label:"实际归还时间","min-width":"180",align:"center","header-align":"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"stat",label:"状态","min-width":"120",align:"center","header-align":"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(e.dealData(t.row,"stat"))+"\n        ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"memo",label:"备注","min-width":"180",align:"center","header-align":"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","min-width":"180",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("qf-access",{attrs:{code:"btn_good_1_3"}},["using"!=t.row.stat&&"backed"!=t.row.stat&&"new"!=t.row.stat?a("el-button",{attrs:{type:"text"},on:{click:function(a){e.gotoBackMoney(t.row)}}},[e._v("\n              退还押金\n            ")]):e._e()],1),e._v(" "),a("qf-access",{attrs:{code:"btn_good_1_3"}},["using"!=t.row.stat&&"backed"!=t.row.stat&&"compensated"!=t.row.stat?a("el-button",{attrs:{type:"text"},on:{click:function(a){e.gotoCollar(t.row)}}},[e._v("\n              领用\n            ")]):e._e()],1),e._v(" "),a("qf-access",{attrs:{code:"btn_good_1_4"}},["using"==t.row.stat&&"backed"!=t.row.stat?a("el-button",{attrs:{type:"text"},nativeOn:{click:function(a){a.preventDefault(),e.gotoBack(t.row)}}},[e._v("\n              归还\n            ")]):e._e()],1)]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:"物品领用",visible:e.dialogFormVisible,width:"400px"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{attrs:{model:e.form}},[a("el-form-item",{attrs:{label:"受理人","label-width":e.formLabelWidth}},[a("el-input",{staticStyle:{width:"85%"},attrs:{"auto-complete":"off"},model:{value:e.form.borrowDealer,callback:function(t){e.$set(e.form,"borrowDealer",t)},expression:"form.borrowDealer"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.collar()}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"物品归还",visible:e.dialogbackVisible,width:"400px"},on:{"update:visible":function(t){e.dialogbackVisible=t}}},[a("el-form",{attrs:{model:e.backform}},[a("el-form-item",{attrs:{label:"受理人","label-width":e.formLabelWidth}},[a("el-input",{staticStyle:{width:"85%"},attrs:{"auto-complete":"off"},model:{value:e.backform.backDealer,callback:function(t){e.$set(e.backform,"backDealer",t)},expression:"backform.backDealer"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.toBack()}}},[e._v("确 定")])],1)],1),e._v(" "),a("div",{staticClass:"bottom-pagination"},[a("el-pagination",{attrs:{"current-page":e.searchForm.page,"page-size":e.searchForm.pageSize,"page-sizes":[10,20,30],layout:"total, prev, pager, next, sizes, jumper",total:e.totalCount},on:{"current-change":e.changePage,"size-change":e.changeSize}})],1)],1)])},staticRenderFns:[]}}});